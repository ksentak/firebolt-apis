{
    "openrpc": "1.2.4",
    "info": {
        "title": "AVSystem",
        "description": "A module for querying the capabilities of the device any of its connected perirpherals (such as displays and soundbars).",
        "version": "0.0.0"
    },
    "methods": [
        {
            "name": "audioFormatSupported",
            "summary": "Check whether content of a given audio format is supported by the device's current configuration and its AV output system.  The result is based on the device's best possible audio output configuration. These values may change as different AV inputs or peripherals are activated or connected.",
            "tags": [
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:avsystem:info"
                    ]
                }
            ],
            "params": [
                {
                    "name": "format",
                    "summary": "Audio format used to check whether its supported.",
                    "required": true,
                    "schema": {
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/AudioFormat"
                    }
                },
                {
                    "name": "options",
                    "summary": "Additional options to use for checking whether an audio format is supported by the device.  All values must be true for the content to be playable.",
                    "schema": {
                        "$ref": "#/components/schemas/AudioFormatOptions"
                    }
                }
            ],
            "result": {
                "name": "audioFormatSupported",
                "summary": "Whether audio content of the given format is supported by the device's current configuration.",
                "schema": {
                    "type": "boolean"
                }
            },
            "examples": [
                {
                    "name": "Check whether EAC3 codec with Atmos is supported",
                    "params": [
                        {
                            "name": "format",
                            "value": "eac3"
                        },
                        {
                            "name": "options",
                            "value": {
                                "atmos": true
                            }
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": true
                    }
                }
            ]
        },
        {
            "name": "videoFormatSupported",
            "summary": "Check whether video content of the given format is supported by the device's current configuration and its AV output system.  These values may change as different AV inputs or peripherals are activated or connected.",
            "tags": [
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:avsystem:info"
                    ]
                }
            ],
            "params": [
                {
                    "name": "format",
                    "summary": "The video format to check whether its supported by the device's current configuration.",
                    "required": true,
                    "schema": {
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/VideoFormat"
                    }
                },
                {
                    "name": "options",
                    "summary": "Additional options to use for checking whether a video is supported by the device.  All values must be true for the content to be playable.",
                    "schema": {
                        "$ref": "#/components/schemas/VideoFormatOptions"
                    }
                }
            ],
            "result": {
                "name": "videoFormatSupported",
                "summary": "Whether video content of the given format is supported by the device's current configuration.",
                "schema": {
                    "type": "boolean"
                }
            },
            "examples": [
                {
                    "name": "Specify the video format to check",
                    "params": [
                        {
                            "name": "format",
                            "value": "avc"
                        },
                        {
                            "name": "options",
                            "value": {
                                "resolution": {
                                    "width": 1920,
                                    "height": 1080
                                }
                            }
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": true
                    }
                }
            ]
        }
    ],
    "components": {
        "schemas": {
            "AudioFormatOptions": {
                "description": "Options for checking audio playback support",
                "type": "object",
                "properties": {
                    "atmos": {
                        "description": "Whether Dolby Atmos support is being requested",
                        "type": "boolean"
                    },
                    "codecLevel": {
                        "description": "The level of the audio codec",
                        "type": "string"
                    },
                    "codecProfile": {
                        "description": "The profile of the audio codec",
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/AudioCodecProfile"
                    },
                    "container": {
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/AudioContainer"
                    },
                    "sampleRate": {
                        "description": "The sample rate of the audio, in kHz",
                        "type": "number"
                    }
                }
            },
            "VideoFormatOptions": {
                "description": "Options for checking video playback support",
                "type": "object",
                "properties": {
                    "atmos": {
                        "description": "Whether Dolby Atmos support is being requested",
                        "type": "boolean"
                    },
                    "codecLevel": {
                        "description": "The level of the video codec",
                        "type": "string",
                        "enum": [
                            "4.1",
                            "4.2",
                            "5.0",
                            "5.1",
                            "high",
                            "main"
                        ]
                    },
                    "codecProfile": {
                        "description": "The profile of the video codec",
                        "type": "string",
                        "enum": [
                            "high",
                            "main",
                            "main10",
                            "p0",
                            "p2"
                        ]
                    },
                    "container": {
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/VideoContainer"
                    },
                    "frameRate": {
                        "description": "The frame rate of the video content",
                        "type": "integer"
                    },
                    "hdr": {
                        "$ref": "https://meta.comcast.com/firebolt/schemas/media#/definitions/HDRProfile"
                    },
                    "resolution": {
                        "$ref": "https://meta.comcast.com/firebolt/types#/definitions/Dimensions"
                    }
                }
            }
        }
    }
}
